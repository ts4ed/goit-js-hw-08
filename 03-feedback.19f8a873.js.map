{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SACMC,EAAUC,SAASC,cAAc,uBACjCC,EAAYF,SAASC,cAAc,YACnCE,EAASH,SAASC,cAAc,kBAChCG,EAAM,sBACNC,EAAO,CACXC,QAAS,GACTC,MAAO,IAEHC,EAAQC,KAAKC,MAAMC,aAAaC,QAAQR,IAsB1BO,aAAaC,QAAQR,KAErCL,EAAQc,MAAQL,EAAMD,OAKJI,aAAaC,QAAQR,KAErCF,EAAUW,MAAQL,EAAMF,SA1B9BP,EAAQe,iBAAiB,QAASC,EAAAlB,EAAA,EAUlC,SAAsBmB,GACpB,IAAMT,EAAQS,EAAIC,OAAOJ,MACzBR,EAAKE,MAAQA,EACbI,aAAaO,QAAQd,EAAKK,KAAKU,UAAUd,MAbc,MACzDH,EAAUY,iBAAiB,QAASC,EAAAlB,EAAA,EAGpC,SAAwBmB,GACtB,IAAMV,EAAUU,EAAIC,OAAOJ,MAC3BR,EAAKC,QAAUA,EACfK,aAAaO,QAAQd,EAAKK,KAAKU,UAAUd,MANkB,MAC7DF,EAAOW,iBAAiB,UA4BxB,SAAsBE,GAEpB,GADAA,EAAII,iBACiB,KAAjBf,EAAKC,SAAiC,KAAfD,EAAKE,MAE9B,YADAc,MAAM,0BAGRL,EAAIC,OAAOK,QACXX,aAAaY,WAAWnB","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\nconst emailEl = document.querySelector(\"input[type='email']\");\nconst messageEl = document.querySelector(\"textarea\");\nconst formEl = document.querySelector(\".feedback-form\");\nconst KEY = 'feedback-form-state';\nconst form = {\n  message: \"\",\n  email: \"\",\n};\nconst forms = JSON.parse(localStorage.getItem(KEY));\n\nemailInput();\nmessageInput();\n\nemailEl.addEventListener(\"input\", throttle(onEmailInput, 500));\nmessageEl.addEventListener(\"input\", throttle(onMessageInput, 500));\nformEl.addEventListener(\"submit\", onFormSubmit);\n\nfunction onMessageInput(evn) {\n  const message = evn.target.value;\n  form.message = message;\n  localStorage.setItem(KEY, JSON.stringify(form));\n}\n\nfunction onEmailInput(evn) {\n  const email = evn.target.value;\n  form.email = email;\n  localStorage.setItem(KEY, JSON.stringify(form));\n}\n\nfunction emailInput() {\n  const saveEmail = localStorage.getItem(KEY);\n  if (saveEmail) {\n    emailEl.value = forms.email;\n  }\n}\n\nfunction messageInput() {\n  const saveMessage = localStorage.getItem(KEY);\n    if (saveMessage) {\n      messageEl.value = forms.message;\n    }\n}\n\nfunction onFormSubmit(evn) {\n  evn.preventDefault();\n  if (form.message === '' || form.email === '') {\n    alert('Не все поля заполнены!');\n    return;\n  };\n  evn.target.reset();\n  localStorage.removeItem(KEY);\n}\n"],"names":["$dCfNN","parcelRequire","$b00c40859be242c5$var$emailEl","document","querySelector","$b00c40859be242c5$var$messageEl","$b00c40859be242c5$var$formEl","$b00c40859be242c5$var$KEY","$b00c40859be242c5$var$form","message","email","$b00c40859be242c5$var$forms","JSON","parse","localStorage","getItem","value","addEventListener","$parcel$interopDefault","evn","target","setItem","stringify","preventDefault","alert","reset","removeItem"],"version":3,"file":"03-feedback.19f8a873.js.map"}